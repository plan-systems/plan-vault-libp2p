<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: PLAN Pages: 1 -->
<svg width="1393pt" height="548pt"
 viewBox="0.00 0.00 1393.00 547.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 543.5)">
<title>PLAN</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-543.5 1389,-543.5 1389,4 -4,4"/>
<g id="clust2" class="cluster">
<title>cluster_vault</title>
<polygon fill="none" stroke="#000000" points="163,-105.5 163,-314.5 1377,-314.5 1377,-105.5 163,-105.5"/>
<text text-anchor="middle" x="770" y="-299.3" font-family="Times,serif" font-size="14.00" fill="#000000">VAULT PROCESS</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_pnode</title>
<polygon fill="none" stroke="#000000" points="145,-322.5 145,-531.5 854.5,-531.5 854.5,-322.5 145,-322.5"/>
<text text-anchor="middle" x="499.75" y="-516.3" font-family="Times,serif" font-size="14.00" fill="#000000">PNODE PROCESS</text>
</g>
<!-- iface_vault -->
<g id="node1" class="node">
<title>iface_vault</title>
<g id="a_node1"><a xlink:title="golang interface&#10;for streaming entries&#10;to Vault">
<path fill="#d3d3d3" stroke="#000000" stroke-width="2" d="M12,-.5C12,-.5 105,-.5 105,-.5 111,-.5 117,-6.5 117,-12.5 117,-12.5 117,-102.5 117,-102.5 117,-108.5 111,-114.5 105,-114.5 105,-114.5 12,-114.5 12,-114.5 6,-114.5 0,-108.5 0,-102.5 0,-102.5 0,-12.5 0,-12.5 0,-6.5 6,-.5 12,-.5"/>
<text text-anchor="middle" x="58.5" y="-99.3" font-family="Arial" font-size="14.00" fill="#000000">Vault (interface)</text>
<polyline fill="none" stroke="#000000" stroke-width="2" points="0,-91.5 117,-91.5 "/>
<text text-anchor="start" x="8" y="-76.3" font-family="Arial" font-size="14.00" fill="#000000">Open()</text>
<text text-anchor="start" x="8" y="-61.3" font-family="Arial" font-size="14.00" fill="#000000">Close()</text>
<text text-anchor="start" x="8" y="-46.3" font-family="Arial" font-size="14.00" fill="#000000">Append(proto)</text>
<text text-anchor="start" x="8" y="-31.3" font-family="Arial" font-size="14.00" fill="#000000">Cancel()</text>
<polyline fill="none" stroke="#000000" stroke-width="2" points="0,-23.5 117,-23.5 "/>
<text text-anchor="start" x="8" y="-8.3" font-family="Arial" font-size="14.00" fill="#000000">streaming</text>
</a>
</g>
</g>
<!-- Unity -->
<g id="node2" class="node">
<title>Unity</title>
<g id="a_node2"><a xlink:title="user&#45;facing client">
<path fill="#ffaaff" stroke="#000000" stroke-width="2" d="M93.5,-397.5C93.5,-397.5 23.5,-397.5 23.5,-397.5 17.5,-397.5 11.5,-391.5 11.5,-385.5 11.5,-385.5 11.5,-373.5 11.5,-373.5 11.5,-367.5 17.5,-361.5 23.5,-361.5 23.5,-361.5 93.5,-361.5 93.5,-361.5 99.5,-361.5 105.5,-367.5 105.5,-373.5 105.5,-373.5 105.5,-385.5 105.5,-385.5 105.5,-391.5 99.5,-397.5 93.5,-397.5"/>
<text text-anchor="middle" x="58.5" y="-375.8" font-family="Arial" font-size="14.00" fill="#000000">Unity</text>
</a>
</g>
</g>
<!-- ring_iface -->
<g id="node18" class="node">
<title>ring_iface</title>
<g id="a_node18"><a xlink:title="whatever API this&#10;channel uses to&#10;talk to Unity">
<path fill="#ffa0a0" stroke="#000000" stroke-width="2" d="M271,-398.5C271,-398.5 165,-398.5 165,-398.5 159,-398.5 153,-392.5 153,-386.5 153,-386.5 153,-372.5 153,-372.5 153,-366.5 159,-360.5 165,-360.5 165,-360.5 271,-360.5 271,-360.5 277,-360.5 283,-366.5 283,-372.5 283,-372.5 283,-386.5 283,-386.5 283,-392.5 277,-398.5 271,-398.5"/>
<text text-anchor="middle" x="218" y="-383.3" font-family="Arial" font-size="14.00" fill="#000000">ring interface</text>
<text text-anchor="middle" x="218" y="-368.3" font-family="Arial" font-size="14.00" fill="#000000">(channel&#45;defined)</text>
</a>
</g>
</g>
<!-- Unity&#45;&gt;ring_iface -->
<g id="edge15" class="edge">
<title>Unity&#45;&gt;ring_iface</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M116.1516,-379.5C124.7837,-379.5 133.7907,-379.5 142.7227,-379.5"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="115.9234,-376.0001 105.9234,-379.5 115.9234,-383.0001 115.9234,-376.0001"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="142.7514,-383.0001 152.7514,-379.5 142.7513,-376.0001 142.7514,-383.0001"/>
</g>
<!-- mDNS -->
<g id="node3" class="node">
<title>mDNS</title>
<g id="a_node3"><a xlink:title="LAN peer discovery">
<path fill="#55ffff" stroke="#000000" stroke-width="2" d="M93.5,-223.5C93.5,-223.5 23.5,-223.5 23.5,-223.5 17.5,-223.5 11.5,-217.5 11.5,-211.5 11.5,-211.5 11.5,-199.5 11.5,-199.5 11.5,-193.5 17.5,-187.5 23.5,-187.5 23.5,-187.5 93.5,-187.5 93.5,-187.5 99.5,-187.5 105.5,-193.5 105.5,-199.5 105.5,-199.5 105.5,-211.5 105.5,-211.5 105.5,-217.5 99.5,-223.5 93.5,-223.5"/>
<text text-anchor="middle" x="58.5" y="-201.8" font-family="Arial" font-size="14.00" fill="#000000">mDNS</text>
</a>
</g>
</g>
<!-- p2pHost -->
<g id="node12" class="node">
<title>p2pHost</title>
<g id="a_node12"><a xlink:title="libp2p Host&#10;implementation:&#10;mostly libp2p code">
<path fill="#55cccc" stroke="#000000" stroke-width="2" d="M253,-196.5C253,-196.5 183,-196.5 183,-196.5 177,-196.5 171,-190.5 171,-184.5 171,-184.5 171,-172.5 171,-172.5 171,-166.5 177,-160.5 183,-160.5 183,-160.5 253,-160.5 253,-160.5 259,-160.5 265,-166.5 265,-172.5 265,-172.5 265,-184.5 265,-184.5 265,-190.5 259,-196.5 253,-196.5"/>
<text text-anchor="middle" x="218" y="-174.8" font-family="Arial" font-size="14.00" fill="#000000">p2p Host</text>
</a>
</g>
</g>
<!-- mDNS&#45;&gt;p2pHost -->
<g id="edge1" class="edge">
<title>mDNS&#45;&gt;p2pHost</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M105.9234,-197.4722C123.1216,-194.5609 142.734,-191.2409 160.6934,-188.2008"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="161.4838,-191.6169 170.7593,-186.4969 160.3154,-184.7151 161.4838,-191.6169"/>
</g>
<!-- peers -->
<g id="node4" class="node">
<title>peers</title>
<g id="a_node4"><a xlink:title="other Vaults on the WAN">
<path fill="#55ffff" stroke="#000000" stroke-width="2" d="M93.5,-169.5C93.5,-169.5 23.5,-169.5 23.5,-169.5 17.5,-169.5 11.5,-163.5 11.5,-157.5 11.5,-157.5 11.5,-145.5 11.5,-145.5 11.5,-139.5 17.5,-133.5 23.5,-133.5 23.5,-133.5 93.5,-133.5 93.5,-133.5 99.5,-133.5 105.5,-139.5 105.5,-145.5 105.5,-145.5 105.5,-157.5 105.5,-157.5 105.5,-163.5 99.5,-169.5 93.5,-169.5"/>
<text text-anchor="middle" x="58.5" y="-147.8" font-family="Arial" font-size="14.00" fill="#000000">peers</text>
</a>
</g>
</g>
<!-- peers&#45;&gt;p2pHost -->
<g id="edge2" class="edge">
<title>peers&#45;&gt;p2pHost</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M105.9234,-159.5278C123.1216,-162.4391 142.734,-165.7591 160.6934,-168.7992"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="160.3154,-172.2849 170.7593,-170.5031 161.4838,-165.3831 160.3154,-172.2849"/>
</g>
<!-- badger -->
<g id="node5" class="node">
<title>badger</title>
<g id="a_node5"><a xlink:title="LSM database">
<path fill="#a0a0ff" stroke="#000000" stroke-width="2" d="M1357,-180.5C1357,-180.5 1287,-180.5 1287,-180.5 1281,-180.5 1275,-174.5 1275,-168.5 1275,-168.5 1275,-156.5 1275,-156.5 1275,-150.5 1281,-144.5 1287,-144.5 1287,-144.5 1357,-144.5 1357,-144.5 1363,-144.5 1369,-150.5 1369,-156.5 1369,-156.5 1369,-168.5 1369,-168.5 1369,-174.5 1363,-180.5 1357,-180.5"/>
<text text-anchor="middle" x="1322" y="-158.8" font-family="Arial" font-size="14.00" fill="#000000">badger</text>
</a>
</g>
</g>
<!-- vault_server -->
<g id="node6" class="node">
<title>vault_server</title>
<g id="a_node6"><a xlink:title="server API for&#10;streaming Entries">
<path fill="#cacaff" stroke="#000000" stroke-width="2" d="M1063,-211.5C1063,-211.5 933,-211.5 933,-211.5 927,-211.5 921,-205.5 921,-199.5 921,-199.5 921,-125.5 921,-125.5 921,-119.5 927,-113.5 933,-113.5 933,-113.5 1063,-113.5 1063,-113.5 1069,-113.5 1075,-119.5 1075,-125.5 1075,-125.5 1075,-199.5 1075,-199.5 1075,-205.5 1069,-211.5 1063,-211.5"/>
<text text-anchor="middle" x="998" y="-196.3" font-family="Arial" font-size="14.00" fill="#000000">Vault server</text>
<text text-anchor="middle" x="998" y="-181.3" font-family="Arial" font-size="14.00" fill="#000000">impl Vault [streaming]</text>
<text text-anchor="start" x="929" y="-166.3" font-family="Arial" font-size="14.00" fill="#000000">Open()</text>
<text text-anchor="start" x="929" y="-151.3" font-family="Arial" font-size="14.00" fill="#000000">Close()</text>
<text text-anchor="start" x="929" y="-136.3" font-family="Arial" font-size="14.00" fill="#000000">Append(proto)</text>
<text text-anchor="start" x="929" y="-121.3" font-family="Arial" font-size="14.00" fill="#000000">Cancel()</text>
</a>
</g>
</g>
<!-- store -->
<g id="node7" class="node">
<title>store</title>
<g id="a_node7"><a xlink:title="translates badger&#10;API to stream">
<path fill="#cacaff" stroke="#000000" stroke-width="2" d="M1227,-196.5C1227,-196.5 1123,-196.5 1123,-196.5 1117,-196.5 1111,-190.5 1111,-184.5 1111,-184.5 1111,-140.5 1111,-140.5 1111,-134.5 1117,-128.5 1123,-128.5 1123,-128.5 1227,-128.5 1227,-128.5 1233,-128.5 1239,-134.5 1239,-140.5 1239,-140.5 1239,-184.5 1239,-184.5 1239,-190.5 1233,-196.5 1227,-196.5"/>
<text text-anchor="middle" x="1175" y="-181.3" font-family="Arial" font-size="14.00" fill="#000000">Store</text>
<text text-anchor="start" x="1119" y="-166.3" font-family="Arial" font-size="14.00" fill="#000000">Channel() ch</text>
<text text-anchor="start" x="1119" y="-151.3" font-family="Arial" font-size="14.00" fill="#000000">Append(proto)</text>
<text text-anchor="start" x="1119" y="-136.3" font-family="Arial" font-size="14.00" fill="#000000">Subscribe() proto</text>
</a>
</g>
</g>
<!-- vault_server&#45;&gt;store -->
<g id="edge13" class="edge">
<title>vault_server&#45;&gt;store</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M1075.1199,-162.5C1083.5974,-162.5 1092.2166,-162.5 1100.6593,-162.5"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="1100.8487,-166.0001 1110.8487,-162.5 1100.8486,-159.0001 1100.8487,-166.0001"/>
</g>
<!-- store&#45;&gt;badger -->
<g id="edge14" class="edge">
<title>store&#45;&gt;badger</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M1239.0487,-162.5C1247.6295,-162.5 1256.3851,-162.5 1264.8371,-162.5"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="1264.964,-166.0001 1274.964,-162.5 1264.9639,-159.0001 1264.964,-166.0001"/>
</g>
<!-- gRPC_server -->
<g id="node8" class="node">
<title>gRPC_server</title>
<g id="a_node8"><a xlink:title="gRPC bidirectional&#10;streaming server:&#10;proxies Vault server">
<path fill="#eeaaee" stroke="#000000" stroke-width="2" d="M1036,-283C1036,-283 960,-283 960,-283 954,-283 948,-277 948,-271 948,-271 948,-242 948,-242 948,-236 954,-230 960,-230 960,-230 1036,-230 1036,-230 1042,-230 1048,-236 1048,-242 1048,-242 1048,-271 1048,-271 1048,-277 1042,-283 1036,-283"/>
<text text-anchor="middle" x="998" y="-267.8" font-family="Arial" font-size="14.00" fill="#000000">gRPC server</text>
<text text-anchor="middle" x="998" y="-252.8" font-family="Arial" font-size="14.00" fill="#000000">[streaming]</text>
<text text-anchor="start" x="956" y="-237.8" font-family="Arial" font-size="14.00" fill="#000000">Accept()</text>
</a>
</g>
</g>
<!-- gRPC_server&#45;&gt;vault_server -->
<g id="edge12" class="edge">
<title>gRPC_server&#45;&gt;vault_server</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M998,-229.9019C998,-227.2479 998,-224.5939 998,-221.9399"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="1001.5001,-221.7031 998,-211.7031 994.5001,-221.7032 1001.5001,-221.7031"/>
</g>
<!-- keyring_v -->
<g id="node9" class="node">
<title>keyring_v</title>
<g id="a_node9"><a xlink:title="headless SKI&#10;implementation">
<path fill="#d3d3d3" stroke="#000000" stroke-width="2" d="M873,-283C873,-283 726,-283 726,-283 720,-283 714,-277 714,-271 714,-271 714,-242 714,-242 714,-236 720,-230 726,-230 726,-230 873,-230 873,-230 879,-230 885,-236 885,-242 885,-242 885,-271 885,-271 885,-277 879,-283 873,-283"/>
<text text-anchor="middle" x="799.5" y="-267.8" font-family="Arial" font-size="14.00" fill="#000000">Keyring</text>
<text text-anchor="start" x="722" y="-252.8" font-family="Arial" font-size="14.00" fill="#000000">Encode([]byte, ch) proto</text>
<text text-anchor="start" x="722" y="-237.8" font-family="Arial" font-size="14.00" fill="#000000">Decode(proto) []byte</text>
</a>
</g>
</g>
<!-- peerstore_client -->
<g id="node14" class="node">
<title>peerstore_client</title>
<g id="a_node14"><a xlink:title="client API for&#10;streaming Entries">
<path fill="#a0ffa0" stroke="#000000" stroke-width="2" d="M864.5,-211.5C864.5,-211.5 734.5,-211.5 734.5,-211.5 728.5,-211.5 722.5,-205.5 722.5,-199.5 722.5,-199.5 722.5,-125.5 722.5,-125.5 722.5,-119.5 728.5,-113.5 734.5,-113.5 734.5,-113.5 864.5,-113.5 864.5,-113.5 870.5,-113.5 876.5,-119.5 876.5,-125.5 876.5,-125.5 876.5,-199.5 876.5,-199.5 876.5,-205.5 870.5,-211.5 864.5,-211.5"/>
<text text-anchor="middle" x="799.5" y="-196.3" font-family="Arial" font-size="14.00" fill="#000000">peerstore vault client</text>
<text text-anchor="middle" x="799.5" y="-181.3" font-family="Arial" font-size="14.00" fill="#000000">impl Vault [streaming]</text>
<text text-anchor="start" x="730.5" y="-166.3" font-family="Arial" font-size="14.00" fill="#000000">Open()</text>
<text text-anchor="start" x="730.5" y="-151.3" font-family="Arial" font-size="14.00" fill="#000000">Close()</text>
<text text-anchor="start" x="730.5" y="-136.3" font-family="Arial" font-size="14.00" fill="#000000">Append(proto)</text>
<text text-anchor="start" x="730.5" y="-121.3" font-family="Arial" font-size="14.00" fill="#000000">Cancel()</text>
</a>
</g>
</g>
<!-- keyring_v&#45;&gt;peerstore_client -->
<g id="edge7" class="edge">
<title>keyring_v&#45;&gt;peerstore_client</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M752.6317,-229.9019C749.5984,-227.0583 747.1992,-224.2148 745.4342,-221.3712"/>
<polygon fill="#000000" stroke="#000000" points="748.6148,-219.8794 741.8769,-211.7031 742.0454,-222.2966 748.6148,-219.8794"/>
</g>
<!-- peerState -->
<g id="node10" class="node">
<title>peerState</title>
<g id="a_node10"><a xlink:title="in&#45;memory representation&#10;of peerstore">
<path fill="#a0ffa0" stroke="#000000" stroke-width="2" d="M658,-238.5C658,-238.5 527,-238.5 527,-238.5 521,-238.5 515,-232.5 515,-226.5 515,-226.5 515,-212.5 515,-212.5 515,-206.5 521,-200.5 527,-200.5 527,-200.5 658,-200.5 658,-200.5 664,-200.5 670,-206.5 670,-212.5 670,-212.5 670,-226.5 670,-226.5 670,-232.5 664,-238.5 658,-238.5"/>
<text text-anchor="middle" x="592.5" y="-223.3" font-family="Arial" font-size="14.00" fill="#000000">Peerstore Ring State:</text>
<text text-anchor="middle" x="592.5" y="-208.3" font-family="Arial" font-size="14.00" fill="#000000">inmem radix trie</text>
</a>
</g>
</g>
<!-- peerState&#45;&gt;peerstore_client -->
<g id="edge5" class="edge">
<title>peerState&#45;&gt;peerstore_client</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M671.3928,-197.7759C684.7797,-194.0896 698.7496,-190.2429 712.3344,-186.5021"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="670.4277,-194.4113 661.7158,-200.4406 672.2862,-201.1601 670.4277,-194.4113"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="713.4323,-189.8301 722.1443,-183.8008 711.5739,-183.0813 713.4323,-189.8301"/>
</g>
<!-- topicState -->
<g id="node11" class="node">
<title>topicState</title>
<g id="a_node11"><a xlink:title="in&#45;memory representation&#10;of topic publisher&#39;s state">
<path fill="#a0ffa0" stroke="#000000" stroke-width="2" d="M644,-177C644,-177 541,-177 541,-177 535,-177 529,-171 529,-165 529,-165 529,-136 529,-136 529,-130 535,-124 541,-124 541,-124 644,-124 644,-124 650,-124 656,-130 656,-136 656,-136 656,-165 656,-165 656,-171 650,-177 644,-177"/>
<text text-anchor="middle" x="592.5" y="-161.8" font-family="Arial" font-size="14.00" fill="#000000">Topic Publisher</text>
<text text-anchor="middle" x="592.5" y="-146.8" font-family="Arial" font-size="14.00" fill="#000000">Ring State:</text>
<text text-anchor="middle" x="592.5" y="-131.8" font-family="Arial" font-size="14.00" fill="#000000">inmem sync map</text>
</a>
</g>
</g>
<!-- topicState&#45;&gt;peerstore_client -->
<g id="edge11" class="edge">
<title>topicState&#45;&gt;peerstore_client</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M666.2441,-154.775C681.0056,-155.6308 696.6497,-156.5377 711.8285,-157.4176"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="666.1994,-151.2666 656.0136,-154.1819 665.7942,-158.2549 666.1994,-151.2666"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="712.0603,-160.9368 722.2461,-158.0215 712.4654,-153.9485 712.0603,-160.9368"/>
</g>
<!-- peerstore -->
<g id="node13" class="node">
<title>peerstore</title>
<g id="a_node13"><a xlink:title="implementation of libp2p&#10;datastore interface for&#10;recording peer state">
<path fill="#a0ffa0" stroke="#000000" stroke-width="2" d="M459,-282C459,-282 331,-282 331,-282 325,-282 319,-276 319,-270 319,-270 319,-181 319,-181 319,-175 325,-169 331,-169 331,-169 459,-169 459,-169 465,-169 471,-175 471,-181 471,-181 471,-270 471,-270 471,-276 465,-282 459,-282"/>
<text text-anchor="middle" x="395" y="-266.8" font-family="Arial" font-size="14.00" fill="#000000">Peerstore Ring</text>
<text text-anchor="middle" x="395" y="-251.8" font-family="Arial" font-size="14.00" fill="#000000">impl libp2p.Datastore</text>
<text text-anchor="start" x="327" y="-236.8" font-family="Arial" font-size="14.00" fill="#000000">Get()</text>
<text text-anchor="start" x="327" y="-221.8" font-family="Arial" font-size="14.00" fill="#000000">Has()</text>
<text text-anchor="start" x="327" y="-206.8" font-family="Arial" font-size="14.00" fill="#000000">Query()</text>
<text text-anchor="start" x="327" y="-191.8" font-family="Arial" font-size="14.00" fill="#000000">Delete()</text>
<text text-anchor="start" x="327" y="-176.8" font-family="Arial" font-size="14.00" fill="#000000">Batch()</text>
</a>
</g>
</g>
<!-- p2pHost&#45;&gt;peerstore -->
<g id="edge3" class="edge">
<title>p2pHost&#45;&gt;peerstore</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M265.4328,-191.0951C278.8729,-194.664 293.9368,-198.664 308.9087,-202.6396"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="308.1527,-206.0601 318.7161,-205.2438 309.9493,-199.2945 308.1527,-206.0601"/>
</g>
<!-- topicstore -->
<g id="node15" class="node">
<title>topicstore</title>
<g id="a_node15"><a xlink:title="publishes Entries&#10;to libp2p host&#10;for other peers">
<path fill="#a0ffa0" stroke="#000000" stroke-width="2" d="M457.5,-150.5C457.5,-150.5 332.5,-150.5 332.5,-150.5 326.5,-150.5 320.5,-144.5 320.5,-138.5 320.5,-138.5 320.5,-126.5 320.5,-126.5 320.5,-120.5 326.5,-114.5 332.5,-114.5 332.5,-114.5 457.5,-114.5 457.5,-114.5 463.5,-114.5 469.5,-120.5 469.5,-126.5 469.5,-126.5 469.5,-138.5 469.5,-138.5 469.5,-144.5 463.5,-150.5 457.5,-150.5"/>
<text text-anchor="middle" x="395" y="-128.8" font-family="Arial" font-size="14.00" fill="#000000">Topic Publisher Ring</text>
</a>
</g>
</g>
<!-- p2pHost&#45;&gt;topicstore -->
<g id="edge9" class="edge">
<title>p2pHost&#45;&gt;topicstore</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M275.1851,-163.6383C291.2103,-159.4736 308.8083,-154.9001 325.4657,-150.5711"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="274.2309,-160.27 265.4328,-166.1728 275.9916,-167.0449 274.2309,-160.27"/>
</g>
<!-- peerstore&#45;&gt;peerState -->
<g id="edge4" class="edge">
<title>peerstore&#45;&gt;peerState</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M481.2561,-222.8796C489.0223,-222.6436 496.8933,-222.4045 504.6727,-222.1682"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="480.9652,-219.3867 471.0762,-223.1888 481.1779,-226.3835 480.9652,-219.3867"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="504.9413,-225.6617 514.8303,-221.8596 504.7286,-218.665 504.9413,-225.6617"/>
</g>
<!-- peerstore_client&#45;&gt;vault_server -->
<g id="edge8" class="edge">
<title>peerstore_client&#45;&gt;vault_server</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M876.5294,-162.5C887.6265,-162.5 899.1142,-162.5 910.3983,-162.5"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="910.6869,-166.0001 920.6869,-162.5 910.6868,-159.0001 910.6869,-166.0001"/>
</g>
<!-- peerstore_client&#45;&gt;keyring_v -->
<g id="edge6" class="edge">
<title>peerstore_client&#45;&gt;keyring_v</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M857.1231,-211.7031C856.7191,-215.2102 855.3505,-218.7172 853.0173,-222.2243"/>
<polygon fill="#000000" stroke="#000000" points="850.2691,-220.0512 846.3683,-229.9019 855.5606,-224.6338 850.2691,-220.0512"/>
</g>
<!-- topicstore&#45;&gt;topicState -->
<g id="edge10" class="edge">
<title>topicstore&#45;&gt;topicState</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M479.793,-140.228C492.7333,-141.4073 505.9999,-142.6164 518.6798,-143.7721"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="479.9427,-136.7272 469.6663,-139.305 479.3073,-143.6983 479.9427,-136.7272"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="518.4291,-147.2637 528.7055,-144.6858 519.0645,-140.2925 518.4291,-147.2637"/>
</g>
<!-- keyring_p -->
<g id="node16" class="node">
<title>keyring_p</title>
<g id="a_node16"><a xlink:title="user&#45;facing SKI implementation">
<path fill="#d3d3d3" stroke="#000000" stroke-width="2" d="M666,-500C666,-500 519,-500 519,-500 513,-500 507,-494 507,-488 507,-488 507,-459 507,-459 507,-453 513,-447 519,-447 519,-447 666,-447 666,-447 672,-447 678,-453 678,-459 678,-459 678,-488 678,-488 678,-494 672,-500 666,-500"/>
<text text-anchor="middle" x="592.5" y="-484.8" font-family="Arial" font-size="14.00" fill="#000000">Keyring</text>
<text text-anchor="start" x="515" y="-469.8" font-family="Arial" font-size="14.00" fill="#000000">Encode([]byte, ch) proto</text>
<text text-anchor="start" x="515" y="-454.8" font-family="Arial" font-size="14.00" fill="#000000">Decode(proto) []byte</text>
</a>
</g>
</g>
<!-- pnode_client -->
<g id="node19" class="node">
<title>pnode_client</title>
<g id="a_node19"><a xlink:title="client API for streaming Entries">
<path fill="#ffa0a0" stroke="#000000" stroke-width="2" d="M657.5,-428.5C657.5,-428.5 527.5,-428.5 527.5,-428.5 521.5,-428.5 515.5,-422.5 515.5,-416.5 515.5,-416.5 515.5,-342.5 515.5,-342.5 515.5,-336.5 521.5,-330.5 527.5,-330.5 527.5,-330.5 657.5,-330.5 657.5,-330.5 663.5,-330.5 669.5,-336.5 669.5,-342.5 669.5,-342.5 669.5,-416.5 669.5,-416.5 669.5,-422.5 663.5,-428.5 657.5,-428.5"/>
<text text-anchor="middle" x="592.5" y="-413.3" font-family="Arial" font-size="14.00" fill="#000000">pnode vault client</text>
<text text-anchor="middle" x="592.5" y="-398.3" font-family="Arial" font-size="14.00" fill="#000000">impl Vault [streaming]</text>
<text text-anchor="start" x="523.5" y="-383.3" font-family="Arial" font-size="14.00" fill="#000000">Open()</text>
<text text-anchor="start" x="523.5" y="-368.3" font-family="Arial" font-size="14.00" fill="#000000">Close()</text>
<text text-anchor="start" x="523.5" y="-353.3" font-family="Arial" font-size="14.00" fill="#000000">Append(proto)</text>
<text text-anchor="start" x="523.5" y="-338.3" font-family="Arial" font-size="14.00" fill="#000000">Cancel()</text>
</a>
</g>
</g>
<!-- keyring_p&#45;&gt;pnode_client -->
<g id="edge19" class="edge">
<title>keyring_p&#45;&gt;pnode_client</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M545.6317,-446.9019C542.5984,-444.0583 540.1992,-441.2148 538.4342,-438.3712"/>
<polygon fill="#000000" stroke="#000000" points="541.6148,-436.8794 534.8769,-428.7031 535.0454,-439.2966 541.6148,-436.8794"/>
</g>
<!-- ring_state -->
<g id="node17" class="node">
<title>ring_state</title>
<g id="a_node17"><a xlink:title="whatever data structure this&#10;channel uses for in&#45;memory&#10;representation of state">
<path fill="#ffa0a0" stroke="#000000" stroke-width="2" d="M448,-398.5C448,-398.5 342,-398.5 342,-398.5 336,-398.5 330,-392.5 330,-386.5 330,-386.5 330,-372.5 330,-372.5 330,-366.5 336,-360.5 342,-360.5 342,-360.5 448,-360.5 448,-360.5 454,-360.5 460,-366.5 460,-372.5 460,-372.5 460,-386.5 460,-386.5 460,-392.5 454,-398.5 448,-398.5"/>
<text text-anchor="middle" x="395" y="-383.3" font-family="Arial" font-size="14.00" fill="#000000">ring state</text>
<text text-anchor="middle" x="395" y="-368.3" font-family="Arial" font-size="14.00" fill="#000000">(channel&#45;defined)</text>
</a>
</g>
</g>
<!-- ring_state&#45;&gt;pnode_client -->
<g id="edge17" class="edge">
<title>ring_state&#45;&gt;pnode_client</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M470.2923,-379.5C481.7009,-379.5 493.5528,-379.5 505.19,-379.5"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="470.2163,-376.0001 460.2162,-379.5 470.2162,-383.0001 470.2163,-376.0001"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="505.3448,-383.0001 515.3448,-379.5 505.3447,-376.0001 505.3448,-383.0001"/>
</g>
<!-- ring_iface&#45;&gt;ring_state -->
<g id="edge16" class="edge">
<title>ring_iface&#45;&gt;ring_state</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M293.3033,-379.5C302.0743,-379.5 311.0221,-379.5 319.7918,-379.5"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="293.1542,-376.0001 283.1542,-379.5 293.1542,-383.0001 293.1542,-376.0001"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="319.9836,-383.0001 329.9836,-379.5 319.9835,-376.0001 319.9836,-383.0001"/>
</g>
<!-- pnode_client&#45;&gt;keyring_p -->
<g id="edge18" class="edge">
<title>pnode_client&#45;&gt;keyring_p</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M650.1231,-428.7031C649.7191,-432.2102 648.3505,-435.7172 646.0173,-439.2243"/>
<polygon fill="#000000" stroke="#000000" points="643.2691,-437.0512 639.3683,-446.9019 648.5606,-441.6338 643.2691,-437.0512"/>
</g>
<!-- gRPC_client -->
<g id="node20" class="node">
<title>gRPC_client</title>
<g id="a_node20"><a xlink:title="proxies Vault client">
<path fill="#eeaaee" stroke="#000000" stroke-width="2" d="M834.5,-395C834.5,-395 764.5,-395 764.5,-395 758.5,-395 752.5,-389 752.5,-383 752.5,-383 752.5,-354 752.5,-354 752.5,-348 758.5,-342 764.5,-342 764.5,-342 834.5,-342 834.5,-342 840.5,-342 846.5,-348 846.5,-354 846.5,-354 846.5,-383 846.5,-383 846.5,-389 840.5,-395 834.5,-395"/>
<text text-anchor="middle" x="799.5" y="-379.8" font-family="Arial" font-size="14.00" fill="#000000">gRPC client</text>
<text text-anchor="middle" x="799.5" y="-364.8" font-family="Arial" font-size="14.00" fill="#000000">[streaming]</text>
<text text-anchor="start" x="760.5" y="-349.8" font-family="Arial" font-size="14.00" fill="#000000">Connect()</text>
</a>
</g>
</g>
<!-- pnode_client&#45;&gt;gRPC_client -->
<g id="edge20" class="edge">
<title>pnode_client&#45;&gt;gRPC_client</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M669.5792,-375.404C693.7019,-374.1221 719.8768,-372.7312 742.3689,-371.536"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="742.6232,-375.0275 752.4233,-371.0017 742.2517,-368.0373 742.6232,-375.0275"/>
</g>
<!-- gRPC_client&#45;&gt;gRPC_server -->
<g id="edge21" class="edge">
<title>gRPC_client&#45;&gt;gRPC_server</title>
<path fill="none" stroke="#000000" stroke-width="2" d="M846.5417,-341.9576C875.237,-325.7668 912.0719,-304.9834 942.2306,-287.9668"/>
<polygon fill="#000000" stroke="#000000" stroke-width="2" points="943.963,-291.0081 950.9524,-283.0458 940.5231,-284.9116 943.963,-291.0081"/>
</g>
</g>
</svg>
